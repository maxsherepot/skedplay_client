type File {
    id: ID!
    path: String!
    filename: String!
    mimetype: String!
}

type User {
    id: ID!
    first_name: String!
    last_name: String!
    gender: String
    birtday: Date
    club_type: String
    phone: String!
    email: String!
    user_type: String
    lat: String
    lng: String
    created_at: DateTime!
    updated_at: DateTime!
}

input UserInput {
    first_name: String
    last_name: String
    gender: String
    birtday: Date
    club_type: String
    phone: String
    email: String
    user_type: String
    lat: String
    lng: String
    password: String
    password_confirmation: String
}

type UserPayload {
    status: Boolean!
    message: String
}

extend type Query @middleware(checks: ["auth:api"]) {
    users: [User!]! @paginate(type: "paginator" model: "Modules\\Users\\Entities\\User")
    user(id: ID @eq): User @find(model: "Modules\\Users\\Entities\\User")
}

extend type Mutation @namespace(field: "Modules\\Api\\GraphQL\\Mutations") {
    update(id: ID!, input: UserInput @spread): UserPayload @updateUserValidation @field(resolver: "UserMutator@update")

    uploadPhotos(files: [Upload!]!): [File!]! @rules(apply: ["required", "file", "mimes:jpeg,jpg,png", "max:4000"]) @field(resolver: "UserMutator@uploadPhotos")
    uploadVideos(files: [Upload!]!): [File!]! @rules(apply: ["required", "mimetypes:video/avi,video/mpeg,video/quicktime", "max:100040"]) @field(resolver: "UserMutator@uploadVideos")
}