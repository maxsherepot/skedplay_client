type User {
    id: ID!
    first_name: String!
    last_name: String!
    gender: String
    birthday: Date
    club_type: String
    phone: String!
    email: String!
    type: String
    account_type: String
    lat: String
    lng: String
    vip: Boolean
    created_at: DateTime!
    updated_at: DateTime!
}

input UserInput {
    first_name: String
    last_name: String
    gender: String
    birthday: Date
    club_type: String
    phone: String
    email: String
    type: String
    account_type: String
    lat: String
    lng: String
    vip: Boolean
    password: String
    password_confirmation: String
}

type UserPaginator {
    data: [User!]! @field(resolver: "Nuwave\\Lighthouse\\Pagination\\PaginatorField@dataResolver")
    paginator: PaginatorInfo @field(resolver: "Nuwave\\Lighthouse\\Pagination\\PaginatorField@paginatorInfoResolver")
}

type UserPayload implements Status {
    status: Boolean!
    message: String
}

extend type Query @middleware(checks: ["auth:api"]) {
    users(count: Int!, page: Int): UserPaginator
    @router(action: "Modules\\Api\\Http\\Controllers\\UserController@index")

    user(user: ID): User
    @router(action: "Modules\\Api\\Http\\Controllers\\UserController@show")
}

extend type Mutation @middleware(checks: ["auth:api"]) {
    updateUser(user: ID!,input: UserInput @spread): UserPayload
    @router(action: "Modules\\Api\\Http\\Controllers\\UserController@update")

    uploadUserPhoto(files: [Upload!]!): [File!]!
    @router(action: "Modules\\Api\\Http\\Controllers\\UserController@uploadPhotos")

    uploadUserVideo(files: [Upload!]!): [File!]!
    @router(action: "Modules\\Api\\Http\\Controllers\\UserController@uploadVideos")
}
