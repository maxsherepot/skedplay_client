type Girl {
    id: ID!
    first_name: String!
    last_name: String!
    gender: Int
    age: Int
    created_at: DateTime!
    updated_at: DateTime!
    type: [GirlType] @belongsTo
    events: [Event] @belongsToMany
    prices: [Price] @belongsToMany
    services: [Service] @belongsToMany
}

type GirlType {
    id: ID!
    name: String!
}

input GirlFilters {
    services: [Int] @whereHas(key: "service_id", method: "whereIn")
    age: AgeRange @whereBetween
    type: String @whereBetween
}

extend type Query {
    girls(filters: GirlFilters @spread): [Girl!]! @paginate
    girl(id: ID @eq): Girl @find
}

extend type Mutation @middleware(checks: ["auth:api"]) {
    createGirlEvent(girl: ID!, input: EventInput @spread): Event
    @router(action: "Modules\\Api\\Http\\Controllers\\GirlController@createEvent")
}

